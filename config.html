<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config Details</title>
    <link rel="stylesheet" href="resources/styles/config.css">
    <link id="favicon" rel="icon" href="resources/icons/logo.png" type="image/x-icon">
</head>
<body>
    <header id="configHeader">
        <h1 id="configTitle">Config Details</h1>
        <a href="index.html" class="back-button">Back</a>
    </header>

    <main id="configDetails">
    </main>

    <script src="resources/js/main.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
    const params = new URLSearchParams(window.location.search);
    const configId = parseInt(params.get("id"));
    const config = configs.find(p => p.id === configId);

    // Apply config colors and gradient background
    document.getElementById('configHeader').style.borderBottomColor = config.colors.header;
    document.getElementById('configTitle').style.color = config.colors.text;
    document.querySelector('.back-button').style.borderColor = config.colors.header;

    document.body.style.background = `
        radial-gradient(at 91% 86%, ${config.colors.header} 0px, transparent 70%),
        radial-gradient(at 12% 13%, ${config.colors.accent} 0px, transparent 70%)
    `;

    const configDetails = document.getElementById('configDetails');
    
    let screenshotsContent = '';
    if (config.screenshots && config.screenshots.length > 0) {
        screenshotsContent = `
            <h3 style="color: ${config.colors.text};">Screenshots:</h3>
            <div class="screenshots">
                ${config.screenshots.map(screenshot => `<img src="${screenshot}" alt="Screenshot">`).join('')}
            </div>
        `;
    }

    let otherButtonsContent = '';
    if (config.otherButtons && config.otherButtons.length > 0) {
        otherButtonsContent = `
            <div class="other-buttons">
                 ${config.otherButtons.map(button => `
                     <a href="${button[0]}" class="download-button"  target="_blank" style="border-color: ${config.colors.accent};">${button[1]}</a>
                `).join('')}
            </div>
         `;
    }

    configDetails.innerHTML = `
        <div class="config-info" style="color: ${config.colors.text};">
            <img src="${config.cover}" alt="${config.name}" class="cover-image">
            <div class="details">
                <h2>${config.name}</h2>
                <p>Creator: ${config.creator}</p>
                <p>${config.description}</p>
                <h3>Tags:</h3>
                <ul>${config.tags.map(tag => `<li style="border-color: ${config.colors.accent};">${tag}</li>`).join('')}</ul>
            </div>
        </div>
        ${screenshotsContent}
        <a href="${config.downloadLink}" class="download-button" style="border-color: ${config.colors.accent};"  target="_blank">Download </a>
        ${otherButtonsContent} <!-- Add the other buttons here -->
    `;
    document.title = config.name + " :3";
    document.querySelectorAll('.screenshots img').forEach(function(img) {
        img.style.borderColor = config.colors.accent;
    });
    document.querySelector('.cover-image').style.borderColor = config.colors.accent;
});


    </script>
</body>
</html>